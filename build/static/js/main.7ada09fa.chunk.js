(this.webpackJsonpBanana_Land=this.webpackJsonpBanana_Land||[]).push([[0],{52:function(e,t,r){},53:function(e,t,r){},55:function(e,t,r){},74:function(e,t,r){},81:function(e,t,r){},82:function(e,t,r){},83:function(e,t,r){},84:function(e,t,r){},85:function(e,t,r){},86:function(e,t,r){},87:function(e,t,r){},88:function(e,t,r){},90:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),a=r(22),s=r.n(a),o=r(10),i=r(3),u=r.n(i),l=r(6),d=r(4),j=(r(52),r(53),r(7)),b=r(41),p=r.n(b),h=r(0),O=Object(n.createContext)(),x=function(e){var t=e.reducer,r=e.initialState,c=e.children;return Object(h.jsx)(O.Provider,{value:Object(n.useReducer)(t,r),children:c})},f=function(){return Object(n.useContext)(O)},m=r(5);r(55);var v=function(e){var t=e.visible,r=Object(n.useState)("hidden"),c=Object(d.a)(r,2),a=c[0],s=c[1];return Object(n.useEffect)((function(){s(t?"visible":"hidden")}),[t]),Object(n.useEffect)((function(){t||setTimeout((function(){s("hidden2")}),1e3)}),[t]),Object(n.useEffect)((function(){s("hidden2")}),[]),Object(h.jsx)("div",{className:"modal ".concat(a),children:e.children})},g=r(40),y=r(8),k=r.n(y);function w(){var e=localStorage.getItem("token");return e?{headers:{Authorization:"Bearer ".concat(e)}}:{}}function C(e){localStorage.setItem("token",e)}function _(){return N.apply(this,arguments)}function N(){return(N=Object(l.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("in checkLogin"),e.next=4,k.a.get("/api/users/me",w());case 4:return t=e.sent,r=t.data,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),console.log("checkLogin(): User is not logged on.\n",e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function E(e,t){return S.apply(this,arguments)}function S(){return(S=Object(l.a)(u.a.mark((function e(t,r){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.post("/api/users/login",{username:t,password:r});case 3:return n=e.sent,c=n.data,console.log("utlis",c),c.token&&C(c.token),e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(0),console.error("login(): Unable to login.\n",e.t0.message),console.log("error message",e.t0.message),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function D(e,t,r,n){return P.apply(this,arguments)}function P(){return(P=Object(l.a)(u.a.mark((function e(t,r,n,c){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.post("/api/users/register",{username:t,password:r,email:n,displayname:c});case 3:return a=e.sent,(s=a.data).token&&C(s.token),e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(0),console.error("register(): Unable to register user.\n",e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function T(e){return U.apply(this,arguments)}function U(){return(U=Object(l.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("/api/users/".concat(t));case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function F(e,t){return A.apply(this,arguments)}function A(){return(A=Object(l.a)(u.a.mark((function e(t,r){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.patch("/api/users/".concat(t),r,w());case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function L(){return M.apply(this,arguments)}function M(){return(M=Object(l.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("/api/products/all");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),console.error("utils.js: getAllProducts(): Unable to get all products.\n",e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function B(e){return I.apply(this,arguments)}function I(){return(I=Object(l.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("UTILS Product: ",t),e.prev=1,e.next=4,k.a.post("/api/products/",t);case 4:return r=e.sent,n=r.data,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(1),console.error("createProduct(): Unable to create product.\n",e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function R(e,t){return V.apply(this,arguments)}function V(){return(V=Object(l.a)(u.a.mark((function e(t,r){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Product ID: ",t),console.log("Product: ",r),e.prev=2,e.next=5,k.a.patch("/api/products/".concat(t),r,w());case 5:return n=e.sent,c=n.data,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(2),console.error("updateProduct(): Unable to update product.\n",e.t0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function Y(){return q.apply(this,arguments)}function q(){return(q=Object(l.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("/api/orders/carts",w());case 3:return t=e.sent,r=t.data,console.log("Cart: ",r),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function H(){return K.apply(this,arguments)}function K(){return(K=Object(l.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("/api/orders/history",w());case 3:return t=e.sent,r=t.data,console.log("Orders: ",r),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function z(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function J(e,t,r){return W.apply(this,arguments)}function W(){return(W=Object(l.a)(u.a.mark((function e(t,r,n){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.post("/api/users/seller",{username:t,password:r,email:n});case 3:return c=e.sent,(a=c.data).token&&C(a.token),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),console.error("register(): Unable to register user.\n",e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}r(74);var $=function(e){e.type;var t=e.setUser,r=(e.setCart,e.setOrders,e.setLoginModalVisible),c=(e.setRegisterModalVisible,e.user,e.messenger),a=Object(n.useState)(""),s=Object(d.a)(a,2),o=s[0],i=s[1],j=Object(n.useState)(""),b=Object(d.a)(j,2),p=b[0],O=b[1],x=Object(n.useState)(""),f=Object(d.a)(x,2),m=f[0],v=f[1],y=Object(n.useState)(""),k=Object(d.a)(y,2),w=k[0],C=k[1],_=Object(n.useState)(!1),N=Object(d.a)(_,2),S=N[0],P=N[1],T=Object(n.useState)(""),U=Object(d.a)(T,2),F=U[0],A=U[1],L=Object(n.useState)(!1),M=Object(d.a)(L,2),B=M[0],I=M[1];function R(){return(R=Object(l.a)(u.a.mark((function e(n){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),o){e.next=4;break}return c("Please enter username to login"),e.abrupt("return");case 4:if(p){e.next=7;break}return c("we are missing the magic word... "),e.abrupt("return");case 7:return e.prev=7,e.next=10,E(o,p);case 10:if(a=e.sent,console.log("auth form 39 data.user",a.user),a.error&&(c(a.error.message),O("")),!a.user){e.next=25;break}return e.next=16,i("");case 16:return e.next=18,O("");case 18:return e.next=20,t(a.user);case 20:A(a.user.message),r(!1),s="Hi, "+a.user.username,c(s),console.log(a.user);case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(7),console.log(e.t0);case 30:case"end":return e.stop()}}),e,null,[[7,27]])})))).apply(this,arguments)}function V(){return(V=Object(l.a)(u.a.mark((function e(n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),o){e.next=4;break}return c("we are excited to have you here... but will still need name..."),e.abrupt("return");case 4:if(p){e.next=7;break}return c("ssshhhhh.... please enter a password...."),e.abrupt("return");case 7:if(!(p.length<8)){e.next=11;break}return c("password needs to be 8 charecters for your security..."),O(""),e.abrupt("return");case 11:if(z(m)){e.next=14;break}return c("that email doesn't feel right... can you please check..."),e.abrupt("return");case 14:return w||Object(g.a)("displayname"),e.prev=15,e.next=18,D(o,p,m,w);case 18:if(a=e.sent,console.log(a),!a.error){e.next=29;break}if(i(""),O(""),v(""),C(""),c("that didnt go right, please try again..."),"users_email_key"!==a.error.constraint){e.next=29;break}return c("that email is already taken, please choose a different email..."),e.abrupt("return");case 29:if(!a.user){e.next=38;break}return i(""),O(""),c("Hi, "+w),e.next=36,t(a.user);case 36:r(!1),console.log(a.user);case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(15),console.log(e.t0);case 43:case"end":return e.stop()}}),e,null,[[15,40]])})))).apply(this,arguments)}function Y(){return(Y=Object(l.a)(u.a.mark((function e(n){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),o){e.next=4;break}return c("we are excited to have you here... but will still need name..."),e.abrupt("return");case 4:if(p){e.next=7;break}return c("ssshhhhh.... please enter a password...."),e.abrupt("return");case 7:if(!(p.length<8)){e.next=11;break}return c("password needs to be 8 charecters for your security..."),O(""),e.abrupt("return");case 11:if(z(m)){e.next=14;break}return c("that email doesn't feel right... can you please check..."),e.abrupt("return");case 14:return e.prev=14,e.next=17,J(o,p,m);case 17:if(a=e.sent,console.log(a),!a.error){e.next=27;break}if(i(""),O(""),v(""),c("that didnt go right, please try again..."),"users_email_key"!==a.error.constraint){e.next=27;break}return c("that email is already taken, please choose a different email..."),e.abrupt("return");case 27:if(!a.user){e.next=36;break}return i(""),O(""),s="Hi, "+a.user.username,c(s),e.next=34,t(a.user);case 34:r(!1),console.log(a.user);case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(14),console.log(e.t0);case 41:case"end":return e.stop()}}),e,null,[[14,38]])})))).apply(this,arguments)}return Object(h.jsxs)("form",{className:"auth-form",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"username"}),Object(h.jsx)("input",{id:"username",value:o,type:"text",placeholder:"Enter Username",onChange:function(e){return i(e.target.value)}})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"password"}),Object(h.jsx)("input",{id:"password",value:p,type:"password",placeholder:"Enter Password",onChange:function(e){return O(e.target.value)}})]})," ",S?Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"email"}),Object(h.jsx)("input",{id:"email",value:m,type:"email",placeholder:"Enter Email",onChange:function(e){return v(e.target.value)}})," "]}):Object(h.jsx)(h.Fragment,{}),B?Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"displayname"}),Object(h.jsx)("input",{id:"displayname",value:w,type:"text",placeholder:"Enter Display Name",onChange:function(e){return C(e.target.value)}})," "]}):Object(h.jsx)(h.Fragment,{}),Object(h.jsxs)("div",{id:"login_register",children:[" ",Object(h.jsx)("button",{onClick:function(e){!function(e){R.apply(this,arguments)}(e)},children:"Login"}),S?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{id:"register_reg",onClick:function(e){!function(e){V.apply(this,arguments)}(e)},children:"Register"}),Object(h.jsx)("button",{id:"seller",onClick:function(e){e.preventDefault(),function(e){Y.apply(this,arguments)}(e)},children:"Seller"})]}):Object(h.jsx)("button",{id:"register_show",onClick:function(e){e.preventDefault(),P(!S),I(!B)},children:"Register"})]}),F?Object(h.jsx)("div",{id:"authFormMessage",children:F}):Object(h.jsx)(h.Fragment,{})]})};var Q=function(e){var t=e.loginModalVisible,r=e.user,n=e.setUser,c=e.setCart,a=e.setOrders,s=e.setLoginModalVisible,o=e.messenger;return Object(h.jsx)(v,{visible:t,children:Object(h.jsx)($,Object(m.a)(Object(m.a)({type:"login"},e),{},{setUser:n,setCart:c,setOrders:a,setLoginModalVisible:s,user:r,messenger:o}))})};var Z=function(e){var t=e.user,r=e.setUser,c=e.query,a=e.setQuery,s=e.products,i=e.setCart,u=e.setOrders,l=e.messenger;e.showMessage,e.setShowMessage,console.log(s);var b=Object(n.useState)(!1),O=Object(d.a)(b,2),x=O[0],m=O[1],v=Object(n.useState)(!1),g=Object(d.a)(v,2),y=(g[0],g[1]),k=f(),w=Object(d.a)(k,1)[0].cart,C=Object(n.useState)(""),_=Object(d.a)(C,2),N=_[0],E=_[1],S=Object(n.useState)(!1),D=Object(d.a)(S,2),P=D[0],T=D[1];Object(n.useEffect)((function(){var e=[];s.forEach((function(t){e.push(t.name)})),E("    \ud83d\udd0d     Let's go to "+e[Math.floor(Math.random()*e.length)])}),[c]);var U=Object(j.f)();return Object(n.useEffect)((function(){"/"===U.pathname?T(!0):T(!1)}),[U]),Object(h.jsxs)("nav",{className:"header",children:[Object(h.jsx)(o.b,{to:"/",children:Object(h.jsx)("img",{className:"header__logo",src:"https://images.vexels.com/media/users/3/156708/isolated/lists/6f332cc60f7c82059eeeed0a5730aa7d-flight-ticket-icon.png",alt:"",onClick:function(e){m(!1),y(!1),a("")}})}),P?Object(h.jsx)("div",{className:"header__search",children:Object(h.jsx)("input",{type:"text",className:"header__searchInput",placeholder:N,value:c,onChange:function(e){a(e.target.value)}})}):Object(h.jsx)(h.Fragment,{}),e.user.username?Object(h.jsxs)(h.Fragment,{children:[" ",Object(h.jsx)("h3",{id:"signin_register",onClick:function(e){localStorage.setItem("token",""),r({})},children:"Logout"}),Object(h.jsx)(o.b,{to:"/users/".concat(e.user.username),id:"me",children:"Me"})]}):Object(h.jsxs)(h.Fragment,{children:[" ",Object(h.jsx)("div",{className:"header__nav",children:Object(h.jsx)("button",{className:"header__link",onClick:function(){m(!x)},children:Object(h.jsx)("div",{className:"header__option",children:Object(h.jsxs)("span",{className:"header__optionLineTwo",children:[" ","Sign In / Register"]})})})})]}),Object(h.jsx)(o.b,{to:"/cart",className:"header__link",children:Object(h.jsxs)("div",{className:"header__optionCart",children:[Object(h.jsx)(p.a,{}),Object(h.jsx)("span",{className:"header__optionLineTwo header__cartCount",children:null===w||void 0===w?void 0:w.length})]})}),Object(h.jsx)(Q,{loginModalVisible:x,setUser:r,setCart:i,setOrders:u,setLoginModalVisible:m,user:t,messenger:l})]})};r(81),r(82);var G=function(e){return Object(h.jsx)("div",{className:"card",children:e.children})};var X=Object(j.g)((function(e){var t=f(),r=Object(d.a)(t,1)[0].cart;return Object(h.jsxs)("div",{className:"block col-1",children:[0===(null===r||void 0===r?void 0:r.length)?Object(h.jsxs)("div",{children:[Object(h.jsx)("br",{}),Object(h.jsx)("h1",{children:" Your Shopping Cart is empty"}),Object(h.jsx)("p",{children:'You have no items in your cart. To buy one or more items, click "Add to Cart icon" next to the item.'})]}):Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{className:"checkout_title",children:" Your Shopping Basket "}),Object(h.jsx)("br",{}),Object(h.jsx)(G,{children:Object(h.jsxs)("div",{className:"card-content",children:[Object(h.jsxs)("div",{className:"card-header",children:[Object(h.jsx)("img",{src:"https://www.history.com/.image/ar_4:3%2Cc_fill%2Ccs_srgb%2Cfl_progressive%2Cq_auto:good%2Cw_1200/MTU3ODc5MDg3NTA5MDg3NTYx/taj-mahal-2.jpg"}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Product Name"}),Object(h.jsx)("h3",{children:"Product Price"})]})]}),Object(h.jsx)("div",{className:"card-body",children:Object(h.jsx)("p",{children:"Product Body"})})]})})]}),r.length>0&&Object(h.jsxs)("div",{className:"checkout__right",children:[Object(h.jsx)("h4",{children:" Subtotal: $50.00"}),Object(h.jsx)("h5",{children:" Tax: $1.99 "}),Object(h.jsx)("h1",{children:" Total: $51.99 "})]}),Object(h.jsx)("div",{className:"continueShop",children:Object(h.jsx)("button",{children:" Continue Shopping "})}),Object(h.jsx)(j.c,{children:Object(h.jsx)(o.b,{to:"/checkout",children:Object(h.jsx)("div",{className:"checkout",children:Object(h.jsx)("button",{children:" Checkout "})})})})]})})),ee=r(27),te=r.n(ee),re=r(26),ne=r.n(re);r(83);var ce=function(e){var t=e.product,r=f(),n=Object(d.a)(r,2),c=(n[0].cart,n[1]);return Object(h.jsx)(G,{children:Object(h.jsxs)("div",{className:"card-content",children:[Object(h.jsx)("div",{className:"card-header",children:Object(h.jsxs)(o.b,{to:"/products/".concat(t.name),children:[Object(h.jsx)("h1",{children:t.name}),Object(h.jsx)("h3",{children:t.price})]})}),Object(h.jsx)("div",{className:"card-body",children:Object(h.jsx)(o.b,{to:"/products/".concat(t.name),children:Object(h.jsx)("img",{src:t.photos.length>0?t.photos[0].photo_url:"https://www.history.com/.image/ar_4:3%2Cc_fill%2Ccs_srgb%2Cfl_progressive%2Cq_auto:good%2Cw_1200/MTU3ODc5MDg3NTA5MDg3NTYx/taj-mahal-2.jpg"})})}),Object(h.jsxs)("div",{className:"card-footer",children:[Object(h.jsx)(o.b,{to:"/products/".concat(t.name),children:Object(h.jsx)("button",{children:Object(h.jsx)(ne.a,{fontSize:"large"})})}),Object(h.jsx)(o.b,{to:"/users/".concat(t.creator_name),children:Object(h.jsx)("h4",{children:t.creator.displayname})}),Object(h.jsx)("button",{onClick:function(){c({type:"ADD_TO_BASKET"})},children:Object(h.jsx)(te.a,{fontSize:"large"})})]})]})})};r(84);var ae=function(e){e.products;var t=e.getProduct,r=Object(n.useState)({}),c=Object(d.a)(r,2);return c[0],c[1],Object(h.jsx)("div",{className:"home",children:t.map((function(e,t){return Object(h.jsx)(ce,{product:e},t)}))})};var se=r(42),oe=r.n(se);r(85);var ie=function(){var e=c.a.useState({name:"Banana Land",price:"56.99",description:"Banana fun!",location:"the moon",quantity:"1"}),t=Object(d.a)(e,1)[0];return Object(h.jsxs)("div",{className:"block col-1",children:[Object(h.jsxs)("div",{className:"product",children:[Object(h.jsx)("img",{src:"https://images.fineartamerica.com/images/artworkimages/mediumlarge/2/vector-illustration-carnival-circus-marrishuanna.jpg"}),Object(h.jsxs)("h1",{children:["Product: ",t.name]}),Object(h.jsxs)("h3",{children:["Price: $",t.price]}),Object(h.jsxs)("h3",{children:["Description: ",t.description]}),Object(h.jsxs)("h3",{children:["Location: ",t.location]}),Object(h.jsxs)("h3",{children:["Quantity: ",t.quantity]})]}),Object(h.jsx)("div",{className:"stripeCheckout",children:Object(h.jsx)(oe.a,{stripeKey:"pk_test_51JABWMFJaq0luCY2OpoSh1FVFC3V6cbe55IMnYyR0m8b2gLE5Vh8iGKaoBgKKWO3tpOXRYa1OErp7HMqYhiSLy2h00E5zsfasg",token:function(e,t){console.log("handleToken: ",{token:e,addresses:t})},billingAddress:!0,shippingAddress:!0,amount:100*t.price,name:t.name})})]})};r(86);var ue=function(e){var t=e.products.find((function(t){return t.name===e.match.params.name})),r=Object(n.useState)(0),c=Object(d.a)(r,2),a=c[0],s=c[1];return Object(n.useEffect)((function(){for(var e=0;e<t.photos.length;e++){var r=document.getElementsByClassName("display-photos")[e],n=document.getElementsByClassName("nav-dot")[e];e===a?(r.style.display="block",n.style.backgroundColor="var(--black)"):(r.style.display="none",n.style.backgroundColor="var(--dot-default)")}console.log(a)}),[a]),Object(h.jsx)("div",{id:"product-info-display",children:Object(h.jsx)("div",{id:"product-info-card",children:t?Object(h.jsxs)(h.Fragment,{children:[" ",Object(h.jsx)("h1",{children:t.name}),Object(h.jsxs)("div",{id:"product-image-display",children:[Object(h.jsx)("div",{id:"prev-btn",onClick:function(){return s(0===a?t.photos.length-1:a-1)},children:Object(h.jsx)("span",{children:"\u276e"})}),t.photos.map((function(e,t){return Object(h.jsx)("div",{id:"photo".concat(t),className:"display-photos",children:Object(h.jsx)("img",{src:e.photo_url})})})),Object(h.jsx)("div",{id:"next-btn",onClick:function(){return s(a===t.photos.length-1?0:a+1)},children:Object(h.jsx)("span",{children:"\u276f"})})]}),Object(h.jsx)("div",{id:"dots-div",children:t.photos.map((function(e,t){return Object(h.jsx)("span",{className:"nav-dot",onMouseOver:function(){return document.getElementsByClassName("nav-dot")[t].style.backgroundColor="var(--black)"},onMouseOut:function(){a!==t&&(document.getElementsByClassName("nav-dot")[t].style.backgroundColor="var(--dot-default)")},onClick:function(){return s(t)}})}))})," ",Object(h.jsxs)("div",{id:"product-info-display-description",children:[Object(h.jsx)("p",{children:t.description}),Object(h.jsxs)("p",{children:["Price: ",t.price]}),Object(h.jsxs)("p",{children:["Location: ",t.location]}),Object(h.jsx)("p",{children:t.datesOpen?"Open ".concat(t.datesOpen):""}),Object(h.jsx)("p",{children:t.hours?"Hours of Operation: ".concat(t.hours):""}),Object(h.jsxs)("p",{children:["Owned by: ",t.creator.displayname]}),Object(h.jsxs)("p",{children:["For more information, contact ",t.creator.displayname," at"," ",t.creator.email]})]})]}):Object(h.jsx)("h1",{children:"Please update search criteria"})})})};r(87);var le=function(e){var t=Object(n.useState)({}),r=Object(d.a)(t,2),c=r[0],a=r[1],s=Object(n.useState)([]),o=Object(d.a)(s,2),i=o[0],j=o[1],b=Object(n.useState)(!1),p=Object(d.a)(b,2),O=p[0],x=p[1],f=Object(n.useState)(!1),m=Object(d.a)(f,2),v=m[0],g=m[1],y=e.products,k=e.user;function w(){return(w=Object(l.a)(u.a.mark((function e(){var t,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.getElementById("username-input").value,r=document.getElementById("email-input").value,n={},""!==t.trim()&&(n.displayname=t),""!==r.trim()&&(n.email=r),!(Object.keys(n).length>0)){e.next=11;break}return e.t0=a,e.next=9,F(k.id,n);case 9:e.t1=e.sent,(0,e.t0)(e.t1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return e.setProducts,Object(n.useEffect)(Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=a,t.next=3,T(e.match.params.username);case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)}))),[]),Object(n.useEffect)((function(){j(y.filter((function(e){return e.creator_name===c.username})))}),[c]),Object(n.useEffect)(Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.username===k.username?x(!0):(x(!1),g(!1));case 1:case"end":return e.stop()}}),e)}))),[c]),Object(n.useEffect)(Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.username===k.username?x(!0):(x(!1),g(!1));case 1:case"end":return e.stop()}}),e)}))),[k]),Object(n.useEffect)((function(){y.filter((function(e){return e.creator_name===c.username})).forEach((function(e){e.creator=c,console.log("user to show:",c),console.log("product updated:",e)}))}),[c]),Object(h.jsx)("div",{id:"user-details-container",children:c.username?Object(h.jsxs)("div",{id:"user-details-card",children:[v?Object(h.jsxs)("div",{id:"user-info",children:[Object(h.jsx)("h1",{children:c.displayname}),Object(h.jsx)("div",{id:"edit-button",children:Object(h.jsx)("button",{onClick:function(){!function(){w.apply(this,arguments)}(),g(!1)},children:"Save Changes"})}),Object(h.jsx)("input",{type:"text",placeholder:"Enter new username",id:"username-input"}),Object(h.jsx)("br",{}),Object(h.jsxs)("h3",{children:["Contact: ",c.email]}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"text",placeholder:"Enter new email address",id:"email-input"})]}):Object(h.jsxs)("div",{id:"user-info",children:[Object(h.jsx)("h1",{children:c.displayname}),Object(h.jsx)("div",{id:"edit-button",children:O?Object(h.jsx)("button",{onClick:function(){return g(!0)},children:"Edit information"}):Object(h.jsx)(h.Fragment,{})}),Object(h.jsxs)("h3",{children:["Contact: ",c.email]})]}),Object(h.jsx)("br",{}),i.length>0?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{children:"Products:"}),v&&k.permission>=2?Object(h.jsx)("button",{id:"edit-products-btn",children:"Edit Products"}):"",Object(h.jsx)("div",{id:"user-products-display",children:i.map((function(e,t){return Object(h.jsx)(ce,{product:e},t)}))})]}):Object(h.jsx)(h.Fragment,{})]}):Object(h.jsx)("h1",{children:"Loading, please wait..."})})},de=r(44),je=r.n(de),be=r(43),pe=r.n(be);r(88);var he=function(e){var t=e.type,r=e.user,c=e.products,a=e.setProducts,s=Object(n.useState)([]),o=Object(d.a)(s,2),i=o[0],j=o[1],b=Object(n.useState)(f()),p=Object(d.a)(b,2),O=p[0],x=p[1];function f(){return{category:"",creator_name:r.username?r.username:"",dates_open:"",description:"",hours:"",is_active:!0,location:"",name:"",price:"",photos:[]}}function v(){return(v=Object(l.a)(u.a.mark((function e(){var t,r,n,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.id){e.next=16;break}return t=O.id,delete(r=Object(m.a)({},O)).photos,e.next=6,R(t,r);case 6:return n=e.sent,console.log("UPDATED PRODUCT: ",n),e.t0=a,e.next=11,L();case 11:e.t1=e.sent,(0,e.t0)(e.t1),x(f()),e.next=28;break;case 16:return delete(c=Object(m.a)({},O)).photos,e.next=20,B(c);case 20:return s=e.sent,console.log("CREATED PRODUCT: ",s),e.t2=a,e.next=25,L();case 25:e.t3=e.sent,(0,e.t2)(e.t3),x(f());case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)(Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j("admin"===t?c.sort((function(e,t){return e.id-t.id})):c.filter((function(e){return e.creator_name===r.username})));case 1:case"end":return e.stop()}}),e)}))),[c]),Object(h.jsxs)("div",{className:"dashboard",children:[Object(h.jsx)("div",{className:"dashboard-navbar",children:Object(h.jsx)("h1",{children:"Navbar"})}),Object(h.jsxs)("div",{className:"dashboard-editor",children:[Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){v.apply(this,arguments)}()},children:[Object(h.jsx)("label",{htmlFor:"product-name-input",children:"Name"}),Object(h.jsx)("input",{id:"product-name-input",value:O.name,placeholder:"Name...",onChange:function(e){var t=Object(m.a)({},O);t.name=e.target.value,console.log("UPDATED: ",t),x(t)}}),Object(h.jsx)("label",{htmlFor:"product-creator-name-input",children:"Creator Name"}),Object(h.jsx)("input",{id:"product-creator-name-input",value:O.creator_name,placeholder:"Creator Name...",onChange:function(e){var t=Object(m.a)({},O);t.creator_name=e.target.value,console.log("UPDATED: ",t),x(t)}}),Object(h.jsx)("label",{htmlFor:"product-category-input",children:"Category"}),Object(h.jsx)("input",{id:"product-category-input",value:O.category,placeholder:"Category...",onChange:function(e){var t=Object(m.a)({},O);t.category=e.target.value,console.log("UPDATED: ",t),x(t)}}),Object(h.jsx)("label",{htmlFor:"product-description-input",children:"Description"}),Object(h.jsx)("textarea",{rows:"5",id:"product-description-input",value:O.description,placeholder:"Description...",onChange:function(e){var t=Object(m.a)({},O);t.description=e.target.value,console.log("UPDATED: ",t),x(t)}}),Object(h.jsx)("label",{htmlFor:"product-price-input",children:"Price"}),Object(h.jsx)("input",{id:"product-price-input",value:O.price,placeholder:"Price...",onChange:function(e){var t=Object(m.a)({},O);t.price=e.target.value,console.log("UPDATED: ",t),x(t)}}),Object(h.jsx)("label",{htmlFor:"product-location-input",children:"Location"}),Object(h.jsx)("input",{id:"product-location-input",value:O.location,placeholder:"Location...",onChange:function(e){var t=Object(m.a)({},O);t.location=e.target.value,console.log("UPDATED: ",t),x(t)}}),Object(h.jsx)("label",{htmlFor:"product-dates-input",children:"Dates Open"}),Object(h.jsx)("input",{id:"product-dates-input",value:O.dates_open,placeholder:"Dates Open...",onChange:function(e){var t=Object(m.a)({},O);t.dates_open=e.target.value,console.log("UPDATED: ",t),x(t)}}),Object(h.jsx)("label",{htmlFor:"product-hours-input",children:"Hours Open"}),Object(h.jsx)("input",{id:"product-hours-input",value:O.hours,placeholder:"Hours Open...",onChange:function(e){var t=Object(m.a)({},O);t.hours=e.target.value,console.log("UPDATED: ",t),x(t)}}),Object(h.jsx)("label",{htmlFor:"product-active-input",children:"Active"}),Object(h.jsx)("input",{className:"product-active-input",type:"checkbox",checked:O.is_active,onChange:function(e){var t=Object(m.a)({},O);t.is_active=e.target.checked,console.log("UPDATED: ",t),x(t)}}),Object(h.jsx)("button",{type:"submit",children:Object(h.jsx)(pe.a,{})})]}),Object(h.jsx)(ce,{product:O})]}),Object(h.jsx)("div",{className:"dashboard-list",children:Object(h.jsxs)("table",{children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{className:"table-header",children:[Object(h.jsx)("th",{}),Object(h.jsx)("th",{children:"ID"}),Object(h.jsx)("th",{children:"Title"}),Object(h.jsx)("th",{children:"Description"}),Object(h.jsx)("th",{children:"Category"}),Object(h.jsx)("th",{children:"Price"}),Object(h.jsx)("th",{children:"Location"})]})}),Object(h.jsx)("tbody",{children:i.map((function(e){return Object(h.jsxs)("tr",{className:e.is_active?"active":"inactive",children:[Object(h.jsx)("td",{children:Object(h.jsx)("span",{children:Object(h.jsx)("button",{onClick:Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=x,t.next=3,f();case 3:t.t1=t.sent,(0,t.t0)(t.t1),x(e);case 6:case"end":return t.stop()}}),t)}))),children:Object(h.jsx)(je.a,{})})})}),Object(h.jsx)("td",{children:e.id}),Object(h.jsx)("td",{children:e.name}),Object(h.jsx)("td",{children:e.description}),Object(h.jsx)("td",{children:e.category}),Object(h.jsx)("td",{children:e.price}),Object(h.jsx)("td",{children:e.location})]},e.id)}))})]})})]})};var Oe=Object(j.g)((function(e){var t=e.user,r=e.setUser,n=e.products,c=e.setProducts,a=e.getProduct;return Object(h.jsxs)(j.c,{children:[Object(h.jsx)(j.a,{path:"/checkout",component:ie}),Object(h.jsx)(j.a,{path:"/cart",component:X}),Object(h.jsx)(j.a,{path:"/admin",render:function(e){return Object(h.jsx)(he,Object(m.a)(Object(m.a)({type:"admin"},e),{},{products:n,setProducts:c,user:t}))}}),Object(h.jsx)(j.a,{path:"/seller",render:function(e){return Object(h.jsx)(he,Object(m.a)(Object(m.a)({type:"seller"},e),{},{products:n,setProducts:c,user:t}))}}),Object(h.jsx)(j.a,{path:"/login",render:function(e){return Object(h.jsx)($,Object(m.a)(Object(m.a)({type:"login"},e),{},{setUser:r}))}}),Object(h.jsx)(j.a,{path:"/signup",render:function(e){return Object(h.jsx)($,Object(m.a)(Object(m.a)({type:"register"},e),{},{setUser:r}))}}),Object(h.jsx)(j.a,{path:"/products/:name",render:function(e){return Object(h.jsx)(ue,Object(m.a)(Object(m.a)({},e),{},{products:n}))}}),Object(h.jsx)(j.a,{path:"/users/:username",render:function(e){return Object(h.jsx)(le,Object(m.a)(Object(m.a)({},e),{},{user:t,products:n,setProducts:c}))}}),Object(h.jsx)(j.a,{path:"/",render:function(e){return Object(h.jsx)(ae,Object(m.a)(Object(m.a)({},e),{},{products:n,getProduct:a}))}})]})}));var xe=function(e){var t=e.message;return t?Object(h.jsx)("div",{id:"message",children:t}):Object(h.jsx)(h.Fragment,{})};var fe=function(){var e=Object(n.useState)({}),t=Object(d.a)(e,2),r=t[0],c=t[1],a=Object(n.useState)([]),s=Object(d.a)(a,2),o=(s[0],s[1]),i=Object(n.useState)([]),j=Object(d.a)(i,2),b=(j[0],j[1]),p=Object(n.useState)([]),O=Object(d.a)(p,2),x=O[0],f=O[1],m=Object(n.useState)(""),v=Object(d.a)(m,2),g=v[0],y=v[1],k=Object(n.useState)([]),w=Object(d.a)(k,2),C=w[0],N=w[1],E=Object(n.useState)("This message should not show"),S=Object(d.a)(E,2),D=S[0],P=S[1],T=Object(n.useState)(!1),U=Object(d.a)(T,2),F=U[0],A=U[1];function M(e){P(e),setTimeout((function(){P("")}),1e4)}return Object(n.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:return t=e.sent,console.log(t),e.next=6,N(t);case 6:return e.next=8,f(t);case 8:return e.next=10,A(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:if(!(t=e.sent).id){e.next=15;break}return c(t),e.t0=o,e.next=8,Y();case 8:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=b,e.next=13,H();case 13:e.t3=e.sent,(0,e.t2)(e.t3);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("products",x),Object(n.useEffect)((function(){if(g){var e=x.filter((function(e){return JSON.stringify(e).toLowerCase().includes(g.toLowerCase())}));N(e),console.log(g),console.log(e)}}),[g]),Object(n.useEffect)((function(){M("Welcome to Wonderful World of Banana Land")}),[]),Object(h.jsx)("div",{className:"App",children:F?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Z,{user:r,setUser:c,query:g,setQuery:y,products:x,messenger:M}),Object(h.jsx)(xe,{message:D}),Object(h.jsx)(Oe,{user:r,setUser:c,products:x,setProducts:f,getProduct:C})]}):Object(h.jsx)("h1",{children:"Loading, please wait..."})})},me=r(45);var ve=function(e,t){switch(console.log(t),t.type){case"ADD_TO_BASKET":return Object(m.a)(Object(m.a)({},e),{},{cart:[].concat(Object(me.a)(e.cart),[t])});case"REMOVE_FROM_BASKET":return{state:e};default:return e}};s.a.render(Object(h.jsx)(o.a,{children:Object(h.jsx)(x,{initialState:{cart:[]},reducer:ve,children:Object(h.jsx)(fe,{})})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.7ada09fa.chunk.js.map